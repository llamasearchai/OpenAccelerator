#!/usr/bin/env python3
"""
OpenAccelerator CLI Wrapper

A simple wrapper script for the OpenAccelerator CLI that makes it easier to use.

Author: Nik Jois <nikjois@llamasearch.ai>
Version: 1.0.0
"""

import subprocess
import sys
from pathlib import Path

# Get the directory where this script is located
SCRIPT_DIR = Path(__file__).parent.absolute()
CLI_SCRIPT = SCRIPT_DIR / "scripts" / "accelerator_cli.py"


def main():
    """Main entry point for the CLI wrapper."""

    # Check if the CLI script exists
    if not CLI_SCRIPT.exists():
        print(f"[ERROR] CLI script not found: {CLI_SCRIPT}")
        print(
            "[INFO] Please ensure you're running this from the OpenAccelerator directory"
        )
        sys.exit(1)

    # Pass all arguments to the actual CLI script
    try:
        cmd = [sys.executable, str(CLI_SCRIPT)] + sys.argv[1:]
        result = subprocess.run(cmd, check=False)
        sys.exit(result.returncode)
    except KeyboardInterrupt:
        print("\n[INTERRUPTED] Operation cancelled by user")
        sys.exit(1)
    except Exception as e:
        print(f"[ERROR] Failed to run CLI: {e}")
        sys.exit(1)


if __name__ == "__main__":
    main()
